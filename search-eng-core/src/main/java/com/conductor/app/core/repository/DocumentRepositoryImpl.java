package com.conductor.app.core.repository;import java.util.Map;import java.util.concurrent.ConcurrentHashMap;import org.springframework.stereotype.Repository;import com.conductor.app.core.ResourceAlreadyExistsException;import com.conductor.app.core.model.Document;@Repositorypublic class DocumentRepositoryImpl implements DocumentRepository {	//could have used in memory DB here(H2, postgress) but this takes less code	private final Map<Long, Document> documentTable = new ConcurrentHashMap<>();		@Override	public Document get(Long id) {		return documentTable.get(id);	}		@Override	public Long add(Document document) {		if (documentTable.putIfAbsent(document.getId(), document) != null) {			throw new ResourceAlreadyExistsException("Doc is already in DB id:" + document.getId());		}		return document.getId();	}	@Override	public void clearDB() {		documentTable.clear();	}}