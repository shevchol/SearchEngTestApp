package com.conductor.app.core.service;import java.util.List;import java.util.Optional;import java.util.Set;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import com.conductor.app.core.ResourceNotFoundException;import com.conductor.app.core.model.Document;import com.conductor.app.core.repository.DocumentRepository;import com.conductor.app.core.service.tokenization.WordTokenizer;@Servicepublic class DocumentServiceImpl implements DocumentService {	@Autowired	DocumentRepository repository;		@Autowired	IndexService indexService;		@Override	public Document get(Long documentId) {		return Optional.ofNullable(repository.get(documentId)).orElseThrow(ResourceNotFoundException::new);	}	//TODO: Transaction badly needed	@Override	public Long add(Document document) {		indexService.updateIndexes(document);		repository.add(document);		return document.getId();	}}